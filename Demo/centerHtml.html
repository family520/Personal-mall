<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>centerHtml</title>
    <link rel="stylesheet" href="css/centerHtml.css">
    <script src="js/jquery.min.js"></script>
    <style>
        #fater_login{
            display: none;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 10000;
        }
    </style>

</head>
<body>
    <iframe src="login.html" frameborder="0" id="fater_login"></iframe>
    <div class="contextBox" id="xxxx" style="position: relative">
        <!-- 左边导航栏-->
        <div class="navLeft">
<!--            <p class="name" id="name">{{name || '智慧办公'}}</p>-->
            <p class="" id="">
                <img :src="logoUrl" alt="">
            </p>
            <ul>
                <li v-for="(item,index) in mmm" :key="index" class="liClick" @click="jj(index)">
                    <span>
                        <img :src="item.icon" alt="">
                    </span>
                    <span>{{item.name}}</span>
                </li>
            </ul>
        </div>
        <div class="rnBox" style="width:82.5%;height: 100%;position: absolute;top:0;left: 17.5%">
            <iframe class="kkkk" :src="src" frameborder="0" style="width: 100%;height: 100%;background-color: white;"></iframe>
        </div>
    </div>
    <script src="js/vue.min.js"></script>
    <script>
        let xxxx = new Vue({
            el:"#xxxx",
            data:{
                mmm:null,
                name:"",
                src : "",
                logoUrl:""
            },
            methods:{
                jj:function (index) {
                    this.src = this.mmm[index].iframeUrl;
                }
            },
            mounted(){
                this.src = "htmls/ggHome.html"
            },
        });

        setInterval(function () {

            let xxData =JSON.parse(localStorage.getItem("xxData"));

            if(JSON.stringify(xxxx.mmm) != localStorage.getItem("xxData")){

                xxxx.mmm = xxData;
            }
        },500);

        setInterval(function () {
            let logoUrl =JSON.parse(localStorage.getItem("logoUrl"));
            if(JSON.stringify(xxxx.logoUrl) != localStorage.getItem("logoUrl")){
                xxxx.logoUrl = logoUrl;
            }
        },500);

        let Ohref=decodeURI(window.location.href);//译码
        let OhrefIndex=Ohref.split('=');
        // console.log(OhrefIndex);
        //显示登录页
        if(OhrefIndex.length >=3 ){
            $("#fater_login").show();
        }
        function changeName(name){
            xxxx.name = name;
        }

    </script>
    <script>

        $(function () {
            $('#fater_login').click(function(){
                $(this).hide();
            });
        })

    </script>

</body>
</html>